/* User portal extracted styles from library.html (Phase1) */
/* Phase5 Utility framework lightweight additions */
.flex { display:flex; }
.flex-col { display:flex; flex-direction:column; }
.items-center { align-items:center; }
.justify-center { justify-content:center; }
.w-full { width:100%; }
.text-truncate { overflow:hidden; white-space:nowrap; text-overflow:ellipsis; }
/* End utility additions */

/* Library Hero */
.library-hero {
    position: relative;
    height: 280px;
    min-height: 240px;
    background: linear-gradient(to bottom, rgba(0,0,0,0.4) 0%, var(--background) 100%);
    overflow: hidden;
    margin-bottom: 1.5rem;
    border-radius: 12px;
}
.hero-background {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    filter: blur(8px);
    transform: scale(1.1);
}
.hero-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(to right, rgba(0,0,0,0.9) 0%, rgba(0,0,0,0.4) 50%, rgba(0,0,0,0.9) 100%),
                linear-gradient(to top, var(--background) 0%, transparent 50%);
}
.hero-content {
    position: relative;
    z-index: 2;
    max-width: 1200px;
    margin: 0 auto;
    padding: 1.5rem 2rem;
    height: 100%;
    display: flex;
    align-items: center;
    gap: 1.5rem;
}
.hero-cover {
    width: 160px;
    height: 240px;
    object-fit: cover;
    border-radius: 8px;
    box-shadow: 0 8px 24px rgba(0,0,0,0.4);
}
.hero-info { flex: 1; color: white; }
.hero-badge { display:inline-block; background: var(--primary-colour); color:#fff; padding:0.4rem 0.75rem; border-radius:4px; font-size:0.7rem; font-weight:600; margin-bottom:0.5rem; letter-spacing:0.5px; }
.hero-title { font-size:1.75rem; font-weight:600; margin:0 0 0.5rem; line-height:1.25; text-shadow:1px 1px 2px rgba(0,0,0,0.4); }
.hero-author { font-size:1rem; opacity:0.85; margin-bottom:0.75rem; }
.hero-meta { display:flex; gap:1rem; margin-bottom:0.75rem; font-size:0.75rem; opacity:0.85; }
.hero-meta-item { display:flex; align-items:center; gap:0.4rem; }
.hero-description { font-size:0.875rem; line-height:1.4; margin-bottom:0.75rem; max-width:560px; opacity:0.85; display:-webkit-box; -webkit-line-clamp:3; line-clamp:3; -webkit-box-orient:vertical; overflow:hidden; }
.hero-actions { display:flex; gap:0.5rem; }
.hero-btn { padding:0.5rem 1rem; font-size:0.875rem; font-weight:600; border-radius:6px; border:none; cursor:pointer; display:flex; align-items:center; gap:0.5rem; transition:all 0.25s; text-decoration:none; }
.hero-btn-primary { background:#fff; color:#000; }
.hero-btn-primary:hover { background:rgba(255,255,255,0.85); }
.hero-btn-secondary { background:rgba(255,255,255,0.2); color:#fff; backdrop-filter:blur(10px); }
.hero-btn-secondary:hover { background:rgba(255,255,255,0.3); }

/* Sections */
.library-section { margin-bottom:2rem; padding:0 2rem; }
.section-header { display:flex; justify-content:space-between; align-items:center; margin-bottom:0.75rem; }
.section-title { font-size:1.25rem; font-weight:600; color:var(--text-primary); }
.section-view-all { color:var(--primary-colour); text-decoration:none; font-size:0.75rem; font-weight:500; }
.section-view-all:hover { opacity:0.8; }

/* Rows / Grid */
.books-row { display:flex; gap:1rem; overflow-x:auto; padding-bottom:1rem; -webkit-overflow-scrolling:touch; }
.books-row.grid-layout { display:grid; grid-template-columns:repeat(auto-fill,minmax(200px,1fr)); gap:1.25rem; overflow:visible; }
.books-row::-webkit-scrollbar { height:8px; }
.books-row::-webkit-scrollbar-track { background:var(--surface); border-radius:4px; }
.books-row::-webkit-scrollbar-thumb { background:var(--border); border-radius:4px; }
.books-row::-webkit-scrollbar-thumb:hover { background:var(--text-secondary); }

/* Book Card */
.book-card { flex:0 0 200px; background:var(--surface); border-radius:8px; overflow:hidden; transition:transform 0.25s, box-shadow 0.25s; position:relative; text-decoration:none; color:inherit; }
.book-card:hover { transform:scale(1.04); box-shadow:0 10px 24px rgba(0,0,0,0.4); z-index:5; }
.book-cover, .book-cover-placeholder { width:100%; height:300px; object-fit:cover; background:var(--background); display:block; }
.book-cover-placeholder { background:linear-gradient(135deg,#667eea 0%,#764ba2 100%); display:flex; align-items:center; justify-content:center; font-size:3rem; }
.book-card-status { position:absolute; top:0.5rem; right:0.5rem; padding:0.25rem 0.6rem; border-radius:12px; font-size:0.65rem; font-weight:600; backdrop-filter:blur(10px); }
.status-want_to_read { background:rgba(59,130,246,0.9); color:#fff; }
.status-currently_reading { background:rgba(34,197,94,0.9); color:#fff; }
.status-read { background:rgba(139,92,246,0.9); color:#fff; }

.book-card-title { font-size:0.85rem; font-weight:600; padding:0.5rem 0.5rem 0 0.5rem; color:var(--text-primary); display:-webkit-box; -webkit-line-clamp:2; line-clamp:2; -webkit-box-orient:vertical; overflow:hidden; }
.book-card-author { font-size:0.75rem; color:var(--text-secondary); padding:0 0.5rem 0.5rem 0.5rem; display:-webkit-box; -webkit-line-clamp:1; line-clamp:1; -webkit-box-orient:vertical; overflow:hidden; }
.book-card-meta { display:flex; gap:0.5rem; font-size:0.65rem; color:var(--text-secondary); padding:0 0.5rem 0.5rem; }
.book-card-meta-item { display:flex; align-items:center; gap:0.25rem; }

/* Cover Edit Icon */
.edit-cover-icon { position:absolute; top:8px; left:8px; width:32px; height:32px; background:rgba(0,0,0,0.6); border:none; backdrop-filter:blur(10px); border-radius:50%; display:flex; align-items:center; justify-content:center; opacity:0; transition:all 0.25s; cursor:pointer; z-index:5; }
.book-card:hover .edit-cover-icon { opacity:1; }
.edit-cover-icon:hover { background:rgba(0,0,0,0.85); transform:scale(1.08); }
.edit-cover-icon ion-icon { font-size:18px; color:#fff; }

/* Cover Selector Modal */
.cover-selector-modal { display:none; position:fixed; inset:0; width:100%; height:100%; background:rgba(0,0,0,0.8); backdrop-filter:blur(10px); z-index:10000; align-items:center; justify-content:center; padding:2rem; }
.cover-selector-modal.active { display:flex; }
.cover-selector-content { background:var(--surface); border-radius:16px; max-width:900px; width:100%; max-height:80vh; overflow-y:auto; padding:2rem; position:relative; }
.cover-selector-header { display:flex; justify-content:space-between; align-items:center; margin-bottom:1.5rem; padding-bottom:1rem; border-bottom:1px solid var(--border); }
.cover-selector-title { font-size:1.25rem; font-weight:600; color:var(--text-primary); }
.cover-selector-close { width:36px; height:36px; border-radius:50%; background:var(--background); border:none; cursor:pointer; display:flex; align-items:center; justify-content:center; transition:all 0.2s; }
.cover-selector-close:hover { background:var(--border); }
.cover-options-grid { display:grid; grid-template-columns:repeat(auto-fill,minmax(180px,1fr)); gap:1.25rem; }
.cover-option { cursor:pointer; border-radius:8px; overflow:hidden; transition:all 0.25s; border:3px solid transparent; position:relative; }
.cover-option:hover { transform:scale(1.05); box-shadow:0 10px 30px rgba(0,0,0,0.3); }
.cover-option.selected { border-color:var(--primary-colour); box-shadow:0 0 0 4px rgba(0,122,255,0.2); }
.cover-option img { width:100%; height:270px; object-fit:cover; display:block; }
.cover-option-label { position:absolute; bottom:0; left:0; right:0; background:linear-gradient(to top,rgba(0,0,0,0.9) 0%,transparent 100%); padding:0.75rem 0.5rem 0.5rem; font-size:0.65rem; color:#fff; text-align:center; font-weight:500; }
.cover-selector-actions { margin-top:1.5rem; padding-top:1.25rem; border-top:1px solid var(--border); display:flex; justify-content:flex-end; gap:0.75rem; }
.cover-selector-btn { padding:0.6rem 1.25rem; border-radius:8px; border:none; font-weight:600; cursor:pointer; transition:all 0.2s; font-size:0.85rem; }
.cover-selector-btn-cancel { background:var(--background); color:var(--text-primary); }
.cover-selector-btn-cancel:hover { background:var(--border); }
.cover-selector-btn-save { background:var(--primary-colour); color:#fff; }
.cover-selector-btn-save:hover { background:var(--primary-hover); }
.cover-selector-btn-save:disabled { opacity:0.5; cursor:not-allowed; }
.cover-selector-loading { text-align:center; padding:3rem; color:var(--text-secondary); }
.cover-selector-loading ion-icon { font-size:42px; animation:spin 1s linear infinite; }
@keyframes spin { from { transform:rotate(0deg); } to { transform:rotate(360deg); } }

/* Empty State */
.empty-state { text-align:center; padding:4rem 2rem; color:var(--text-secondary); }
.empty-state-icon { font-size:4rem; margin-bottom:1rem; opacity:0.5; }
.empty-state-title { font-size:1.5rem; font-weight:600; margin-bottom:0.5rem; color:var(--text-primary); }
.empty-state-text { font-size:1rem; margin-bottom:2rem; }

/* Search / Filter Bar */
.search-filter-bar { padding:1.25rem 2rem; background:var(--surface); border-bottom:1px solid var(--border); position:sticky; top:0; z-index:100; }
.search-container { max-width:1200px; margin:0 auto; display:flex; gap:1rem; align-items:center; flex-wrap:wrap; }
.search-input-wrapper { flex:1; min-width:300px; position:relative; }
.search-input { width:100%; padding:0.65rem 1rem 0.65rem 2.5rem; border:1px solid var(--border); border-radius:8px; background:var(--background); color:var(--text-primary); font-size:0.95rem; }
.search-input:focus { outline:none; border-color:var(--primary-colour); }
.search-icon { position:absolute; left:0.75rem; top:50%; transform:translateY(-50%); color:var(--text-secondary); font-size:1.1rem; }
.filter-buttons { display:flex; gap:0.5rem; flex-wrap:wrap; }
.filter-btn { padding:0.4rem 0.9rem; border:1px solid var(--border); border-radius:6px; background:var(--background); color:var(--text-primary); font-size:0.75rem; cursor:pointer; transition:all 0.2s; }
.filter-btn:hover { background:var(--surface); }
.filter-btn.active { background:var(--primary-colour); color:#fff; border-color:var(--primary-colour); }
.clear-filters-btn { padding:0.4rem 0.9rem; border:none; border-radius:6px; background:transparent; color:var(--text-secondary); font-size:0.75rem; cursor:pointer; }
.clear-filters-btn:hover { color:var(--text-primary); }
.search-results-info { padding:0.5rem 2rem; color:var(--text-secondary); font-size:0.75rem; }

/* Responsive */
@media (max-width: 768px) {
    .library-hero { height:220px; }
    .hero-content { flex-direction:row; padding:1rem; }
    .hero-cover { width:120px; height:180px; }
    .books-row { gap:0.75rem; }
    .book-card { flex:0 0 150px; }
    .book-cover, .book-cover-placeholder { height:225px; }
    .book-cover-placeholder { font-size:2.5rem; }
    .section-title { font-size:1.1rem; }
    .search-filter-bar { padding:1rem; }
    .search-input-wrapper { min-width:100%; }
    .filter-btn { flex:1; }
}
